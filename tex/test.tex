% generated by Ott 0.31 from: ott/type.ott ott/term.ott ott/context.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \mathit{tyvar} ,\, \mathit{A} $ &  \\
 $ \mathit{var} ,\, \mathit{x} ,\, \mathit{y} $ &  \\
}}

\newcommand{\otttype}{
\ottrulehead{\ottnt{type}  ,\ \ottnt{t}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textbf{I}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{t}  \otimes{}  \ottnt{t'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{t}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottelim}{
\ottrulehead{\ottnt{elim}  ,\ \ottnt{V}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pi{}_1 \, \ottnt{V}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pi{}_2 \, \ottnt{V}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{V}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottintro}{
\ottrulehead{\ottnt{intro}  ,\ \ottnt{v}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathop{ \textbf ! }}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{v}  \ottsym{,}  \ottnt{v'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ [  \ottnt{V}  ] }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{v}  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{ \eta_{ \ottnt{t} }  \ottnt{V} } {\textsf{M}}{}{}{}}

\newcommand{\ottenvironment}{
\ottrulehead{\ottnt{environment}  ,\ \Gamma}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \Gamma  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottsubst}{
\ottrulehead{\ottnt{subst}  ,\ \rho}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\rho  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \rho  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottcontext}{
\ottrulehead{\ottnt{context}  ,\ \ottnt{E}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\lambda{} \, \mathit{x}  \ottsym{.}  \ottnt{E}}{}{\textsf{bind}\; \mathit{x}\; \textsf{in}\; \ottnt{E}}{}{}\ottprodnewline
\ottprodline{|}{\mathop{ \textbf ! }}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  \ottsym{,}  \ottnt{E'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ [  \ottnt{e}  ] }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{E}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottredex}{
\ottrulehead{\ottnt{redex}  ,\ \ottnt{e}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e} \, \ottnt{E'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e}  \ottsym{;}  \ottnt{E'}  \colon{}  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbin{\textbf{let} } \, \mathit{x}  \ottsym{,}  \mathit{y}  \ottsym{=}  \ottnt{e} \, \mathbin{\textbf{in} } \, \ottnt{E'}  \colon{}  \ottnt{t}}{}{\textsf{bind}\; \mathit{x} \cup  \mathit{y}\; \textsf{in}\; \ottnt{E'}}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{E}  \colon  \ottnt{t} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{e}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottuse}{
\ottrulehead{\ottnt{use}  ,\ \ottnt{u}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\textbf{s}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textbf{f}}{}{}{}{}}

\newcommand{\ottusage}{
\ottrulehead{\ottnt{usage}  ,\ \Delta}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Delta  \ottsym{,}  \ottnt{u}}{}{}{}{}}

\newcommand{\ottnat}{
\ottrulehead{\ottnt{nat}  ,\ \ottnt{n}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottsym{0}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{n}  + 1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{len} \, x^*} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{len} \, \Gamma} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{len} \, \Delta} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{n}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottstore}{
\ottrulehead{\ottnt{store}  ,\ \sigma}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{x}  \mathbin{:=}  \ottnt{v}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\sigma  \ottsym{,}  \sigma'} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\sigma  \mathrel{\cup}  \sigma'} {\textsf{M}}{}{}{}}

\newcommand{\ottspan}{
\ottrulehead{\ottnt{span}  ,\ \ottnt{P}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\sigma  \vdash{}  \ottnt{v}}{}{}{}{}}

\newcommand{\ottspans}{
\ottrulehead{\ottnt{spans}  ,\ P^*}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{P^*  \ottsym{,}  \ottnt{P}}{}{}{}{}}

\newcommand{\ottstores}{
\ottrulehead{\ottnt{stores}  ,\ S^*}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{S^*  \ottsym{,}  \sigma}{}{}{}{}}

\newcommand{\ottvars}{
\ottrulehead{\ottnt{vars}  ,\ x^*}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{x^*  \ottsym{,}  \mathit{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  x^*  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{xsof} \, \Gamma} {\textsf{M}}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \colon{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \equiv{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{:=} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \rightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \cdot }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \circ }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{I} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \otimes{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{s} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{f} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathop{ \textbf ! } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pi{}_1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pi{}_2 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \lambda{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \bullet{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{\textbf{let} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{\textbf{in} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\in} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \colon }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \colon }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\in!} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\notin} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\cup} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\Downarrow} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\ne} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\sim} }{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{x}  \mathrel{\ne}  \mathit{y}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{x}  \ottsym{=}  \mathit{y}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{n}  \ottsym{=}  \ottnt{n'}} {\textsf{M}}{}{}{}}

\newcommand{\ottetaXXexpand}{
\ottrulehead{\ottnt{eta\_expand}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \eta_{ \ottnt{t} }  \ottnt{V} }{}{}{}{}}

\newcommand{\ottdummy}{
\ottrulehead{\ottnt{dummy}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottkw{jdummy}}{}{}{}{}}

\newcommand{\ottfind}{
\ottrulehead{\ottnt{find}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}  \colon{}  \ottnt{t}  \mathrel{\in}  \Gamma}{}{}{}{}}

\newcommand{\ottjudgeXXterm}{
\ottrulehead{\ottnt{judge\_term}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Gamma  \vdash{}  \ottnt{V}  \colon{}  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \vdash{}  \ottnt{v}  \colon{}  \ottnt{t}}{}{}{}{}}

\newcommand{\ottjudgeXXsubst}{
\ottrulehead{\ottnt{judge\_subst}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Gamma  \vdash{}  \rho  \colon{}  \Gamma'}{}{}{}{}}

\newcommand{\otthsubstsV}{
\ottrulehead{\ottnt{hsubstsV}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{V}  \cdot  \rho  \equiv{}  \ottnt{v'}}{}{}{}{}}

\newcommand{\otthsubstsv}{
\ottrulehead{\ottnt{hsubstsv}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{v}  \circ  \rho  \equiv{}  \ottnt{v'}}{}{}{}{}}

\newcommand{\ottxsofG}{
\ottrulehead{\ottnt{xsofG}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottkw{xsof} \, \Gamma  \equiv{}  x^*}{}{}{}{}}

\newcommand{\ottlfind}{
\ottrulehead{\ottnt{lfind}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}  \mathrel{\in}  x^*  \ottsym{;}  \Delta  \rightarrow  \Delta'}{}{}{}{}}

\newcommand{\ottjudgeXXcontext}{
\ottrulehead{\ottnt{judge\_context}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \ottnt{e}  \colon  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \ottnt{E}  \colon  \ottnt{t}}{}{}{}{}}

\newcommand{\ottsat}{
\ottrulehead{\ottnt{sat}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \sigma  \mathrel{\vdash}  \ottnt{e}  [  \ottnt{v}  ] }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \sigma  \mathrel{\vdash}  \ottnt{E}  [  \ottnt{v}  ] }{}{}{}{}}

\newcommand{\ottsound}{
\ottrulehead{\ottnt{sound}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{E}  \ottsym{[}  S^*  \ottsym{;}  \ottnt{v}  \ottsym{]}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e}  \ottsym{[}  P^*  \ottsym{]}}{}{}{}{}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{dummy}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{find}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{judge\_term}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{judge\_subst}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{hsubstsV}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{hsubstsv}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{lfind}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{judge\_context}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{sat}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{sound}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{tyvar}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{var}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{type}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{elim}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{intro}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{environment}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{subst}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{context}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{redex}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{use}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{usage}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{nat}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{store}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{span}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{spans}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stores}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{vars}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\otttype\ottinterrule
\ottelim\ottinterrule
\ottintro\ottinterrule
\ottenvironment\ottinterrule
\ottsubst\ottinterrule
\ottcontext\ottinterrule
\ottredex\ottinterrule
\ottuse\ottinterrule
\ottusage\ottinterrule
\ottnat\ottinterrule
\ottstore\ottinterrule
\ottspan\ottinterrule
\ottspans\ottinterrule
\ottstores\ottinterrule
\ottvars\ottinterrule
\ottterminals\ottinterrule
\ottformula\ottinterrule
\ottetaXXexpand\ottinterrule
\ottdummy\ottinterrule
\ottfind\ottinterrule
\ottjudgeXXterm\ottinterrule
\ottjudgeXXsubst\ottinterrule
\otthsubstsV\ottinterrule
\otthsubstsv\ottinterrule
\ottxsofG\ottinterrule
\ottlfind\ottinterrule
\ottjudgeXXcontext\ottinterrule
\ottsat\ottinterrule
\ottsound\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% fundefns eta_expand
% fundefn eta

\newcommand{\ottfundefneta}[1]{\begin{ottfundefnblock}[#1]{$ \eta_{ \ottnt{t} }  \ottnt{V} $}{}
\ottfunclause{ \eta_{ \mathit{A} }  \ottnt{V} }{ [  \ottnt{V}  ] }%
\ottfunclause{ \eta_{ \textbf{I} }  \ottnt{V} }{\mathop{ \textbf ! }}%
\ottfunclause{ \eta_{ \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}} }  \ottnt{V} }{ \eta_{ \ottnt{t_{{\mathrm{1}}}} }  \ottsym{(}  \pi{}_1 \, \ottnt{V}  \ottsym{)}   \ottsym{,}   \eta_{ \ottnt{t_{{\mathrm{2}}}} }  \ottsym{(}  \pi{}_2 \, \ottnt{V}  \ottsym{)} }%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsetaXXexpand}{
\ottfundefneta{}}

% defns dummy
%% defn jdum

\newcommand{\ottdefnjdum}[1]{\begin{ottdefnblock}[#1]{$\ottkw{jdummy}$}{}
\end{ottdefnblock}}


\newcommand{\ottdefnsdummy}{
\ottdefnjdum{}}

% defns find
%% defn mem
\newcommand{\ottdrulememXXeq}[1]{\ottdrule[#1]{%
}{
\mathit{x}  \colon{}  \ottnt{t}  \mathrel{\in}  \Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t}}{%
{\ottdrulename{mem\_eq}}{}%
}}


\newcommand{\ottdrulememXXne}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \mathrel{\ne}  \mathit{y}}%
\ottpremise{\mathit{x}  \colon{}  \ottnt{t}  \mathrel{\in}  \Gamma}%
}{
\mathit{x}  \colon{}  \ottnt{t}  \mathrel{\in}  \Gamma  \ottsym{,}  \mathit{y}  \colon{}  \ottnt{t'}}{%
{\ottdrulename{mem\_ne}}{}%
}}

\newcommand{\ottdefnmem}[1]{\begin{ottdefnblock}[#1]{$\mathit{x}  \colon{}  \ottnt{t}  \mathrel{\in}  \Gamma$}{}
\ottusedrule{\ottdrulememXXeq{}}
\ottusedrule{\ottdrulememXXne{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsfind}{
\ottdefnmem{}}

% defns judge_term
%% defn V
\newcommand{\ottdruleJVXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \colon{}  \ottnt{t}  \mathrel{\in}  \Gamma}%
}{
\Gamma  \vdash{}  \mathit{x}  \colon{}  \ottnt{t}}{%
{\ottdrulename{JV\_var}}{}%
}}


\newcommand{\ottdruleJVXXfst}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash{}  \ottnt{V}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash{}  \pi{}_1 \, \ottnt{V}  \colon{}  \ottnt{t_{{\mathrm{1}}}}}{%
{\ottdrulename{JV\_fst}}{}%
}}


\newcommand{\ottdruleJVXXsnd}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash{}  \ottnt{V}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash{}  \pi{}_2 \, \ottnt{V}  \colon{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{JV\_snd}}{}%
}}

\newcommand{\ottdefnJV}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash{}  \ottnt{V}  \colon{}  \ottnt{t}$}{}
\ottusedrule{\ottdruleJVXXvar{}}
\ottusedrule{\ottdruleJVXXfst{}}
\ottusedrule{\ottdruleJVXXsnd{}}
\end{ottdefnblock}}

%% defn v
\newcommand{\ottdruleJvXXtt}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash{}  \mathop{ \textbf ! }  \colon{}  \textbf{I}}{%
{\ottdrulename{Jv\_tt}}{}%
}}


\newcommand{\ottdruleJvXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash{}  \ottnt{v_{{\mathrm{1}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}}%
\ottpremise{\Gamma  \vdash{}  \ottnt{v_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash{}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{Jv\_fanout}}{}%
}}


\newcommand{\ottdruleJvXXneu}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash{}  \ottnt{V}  \colon{}  \mathit{A}}%
}{
\Gamma  \vdash{}   [  \ottnt{V}  ]   \colon{}  \mathit{A}}{%
{\ottdrulename{Jv\_neu}}{}%
}}

\newcommand{\ottdefnJv}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash{}  \ottnt{v}  \colon{}  \ottnt{t}$}{}
\ottusedrule{\ottdruleJvXXtt{}}
\ottusedrule{\ottdruleJvXXfanout{}}
\ottusedrule{\ottdruleJvXXneu{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsjudgeXXterm}{
\ottdefnJV{}\ottdefnJv{}}

% defns judge_subst
%% defn p
\newcommand{\ottdruleJpXXnil}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash{}  \bullet{}  \colon{}  \bullet{}}{%
{\ottdrulename{Jp\_nil}}{}%
}}


\newcommand{\ottdruleJpXXcons}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma'  \vdash{}  \ottnt{v}  \colon{}  \ottnt{t}}%
\ottpremise{\Gamma'  \vdash{}  \rho  \colon{}  \Gamma}%
}{
\Gamma'  \vdash{}  \rho  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v}  \colon{}  \Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t}}{%
{\ottdrulename{Jp\_cons}}{}%
}}

\newcommand{\ottdefnJp}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash{}  \rho  \colon{}  \Gamma'$}{}
\ottusedrule{\ottdruleJpXXnil{}}
\ottusedrule{\ottdruleJpXXcons{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsjudgeXXsubst}{
\ottdefnJp{}}

% defns hsubstsV
%% defn hsubstsV
\newcommand{\ottdrulehsubstsVXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{Assoc.find }\mathit{x}\texttt{ }\rho\texttt{ = Some }\ottnt{v}\texttt{ }}%
}{
\mathit{x}  \cdot  \rho  \equiv{}  \ottnt{v}}{%
{\ottdrulename{hsubstsV\_var}}{}%
}}


\newcommand{\ottdrulehsubstsVXXfst}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{V}  \cdot  \rho  \equiv{}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}}%
}{
\pi{}_1 \, \ottnt{V}  \cdot  \rho  \equiv{}  \ottnt{v_{{\mathrm{1}}}}}{%
{\ottdrulename{hsubstsV\_fst}}{}%
}}


\newcommand{\ottdrulehsubstsVXXsnd}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{V}  \cdot  \rho  \equiv{}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}}%
}{
\pi{}_2 \, \ottnt{V}  \cdot  \rho  \equiv{}  \ottnt{v_{{\mathrm{2}}}}}{%
{\ottdrulename{hsubstsV\_snd}}{}%
}}

\newcommand{\ottdefnhsubstsV}[1]{\begin{ottdefnblock}[#1]{$\ottnt{V}  \cdot  \rho  \equiv{}  \ottnt{v'}$}{}
\ottusedrule{\ottdrulehsubstsVXXvar{}}
\ottusedrule{\ottdrulehsubstsVXXfst{}}
\ottusedrule{\ottdrulehsubstsVXXsnd{}}
\end{ottdefnblock}}


\newcommand{\ottdefnshsubstsV}{
\ottdefnhsubstsV{}}

% defns hsubstsv
%% defn hsubstsv
\newcommand{\ottdrulehsubstsvXXtt}[1]{\ottdrule[#1]{%
}{
\mathop{ \textbf ! }  \circ  \rho  \equiv{}  \mathop{ \textbf ! }}{%
{\ottdrulename{hsubstsv\_tt}}{}%
}}


\newcommand{\ottdrulehsubstsvXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{v_{{\mathrm{1}}}}  \circ  \rho  \equiv{}  \ottnt{v'_{{\mathrm{1}}}}}%
\ottpremise{\ottnt{v_{{\mathrm{2}}}}  \circ  \rho  \equiv{}  \ottnt{v'_{{\mathrm{2}}}}}%
}{
\ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}  \circ  \rho  \equiv{}  \ottnt{v'_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v'_{{\mathrm{2}}}}}{%
{\ottdrulename{hsubstsv\_fanout}}{}%
}}


\newcommand{\ottdrulehsubstsvXXneu}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{V}  \cdot  \rho  \equiv{}  \ottnt{v}}%
}{
 [  \ottnt{V}  ]   \circ  \rho  \equiv{}  \ottnt{v}}{%
{\ottdrulename{hsubstsv\_neu}}{}%
}}

\newcommand{\ottdefnhsubstsv}[1]{\begin{ottdefnblock}[#1]{$\ottnt{v}  \circ  \rho  \equiv{}  \ottnt{v'}$}{}
\ottusedrule{\ottdrulehsubstsvXXtt{}}
\ottusedrule{\ottdrulehsubstsvXXfanout{}}
\ottusedrule{\ottdrulehsubstsvXXneu{}}
\end{ottdefnblock}}


\newcommand{\ottdefnshsubstsv}{
\ottdefnhsubstsv{}}

% fundefns xsofG
% fundefn xsof

\newcommand{\ottfundefnxsof}[1]{\begin{ottfundefnblock}[#1]{$\ottkw{xsof} \, \Gamma$}{}
\ottfunclause{\ottkw{xsof} \, \bullet{}}{\bullet{}}%
\ottfunclause{\ottkw{xsof} \, \ottsym{(}  \Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t}  \ottsym{)}}{\ottkw{xsof} \, \Gamma  \ottsym{,}  \mathit{x}}%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsxsofG}{
\ottfundefnxsof{}}

% defns lfind
%% defn lmem
\newcommand{\ottdrulelmemXXeq}[1]{\ottdrule[#1]{%
\ottpremise{\ottkw{len} \, x^*  \ottsym{=}  \ottkw{len} \, \Delta}%
}{
\mathit{x}  \mathrel{\in}  x^*  \ottsym{,}  \mathit{x}  \ottsym{;}  \Delta  \ottsym{,}  \textbf{f}  \rightarrow  \Delta  \ottsym{,}  \textbf{s}}{%
{\ottdrulename{lmem\_eq}}{}%
}}


\newcommand{\ottdrulelmemXXne}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \mathrel{\ne}  \mathit{y}}%
\ottpremise{\mathit{x}  \mathrel{\in}  x^*  \ottsym{;}  \Delta  \rightarrow  \Delta'}%
}{
\mathit{x}  \mathrel{\in}  x^*  \ottsym{,}  \mathit{y}  \ottsym{;}  \Delta  \ottsym{,}  \ottnt{u}  \rightarrow  \Delta'  \ottsym{,}  \ottnt{u}}{%
{\ottdrulename{lmem\_ne}}{}%
}}

\newcommand{\ottdefnlmem}[1]{\begin{ottdefnblock}[#1]{$\mathit{x}  \mathrel{\in}  x^*  \ottsym{;}  \Delta  \rightarrow  \Delta'$}{}
\ottusedrule{\ottdrulelmemXXeq{}}
\ottusedrule{\ottdrulelmemXXne{}}
\end{ottdefnblock}}


\newcommand{\ottdefnslfind}{
\ottdefnlmem{}}

% defns judge_context
%% defn infer
\newcommand{\ottdruleinferXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \colon{}  \ottnt{t}  \mathrel{\in}  \Gamma}%
\ottpremise{\mathit{x}  \mathrel{\in}  \ottkw{xsof} \, \Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'}%
}{
\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \mathit{x}  \colon  \ottnt{t}}{%
{\ottdrulename{infer\_var}}{}%
}}


\newcommand{\ottdruleinferXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{2}}}  \vdash{}  \ottnt{e_{{\mathrm{1}}}}  \colon  \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}}}%
\ottpremise{\Gamma  \ottsym{;}  \Delta_{{\mathrm{2}}}  \rightarrow  \Delta_{{\mathrm{3}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon  \ottnt{t_{{\mathrm{1}}}}}%
}{
\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{3}}}  \vdash{}  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{E_{{\mathrm{2}}}}  \colon  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{infer\_app}}{}%
}}


\newcommand{\ottdruleinferXXstep}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{2}}}  \vdash{}  \ottnt{e_{{\mathrm{1}}}}  \colon  \textbf{I}}%
\ottpremise{\Gamma  \ottsym{;}  \Delta_{{\mathrm{2}}}  \rightarrow  \Delta_{{\mathrm{3}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon  \ottnt{t}}%
}{
\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{3}}}  \vdash{}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t}  \colon  \ottnt{t}}{%
{\ottdrulename{infer\_step}}{}%
}}


\newcommand{\ottdruleinferXXlet}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{2}}}  \vdash{}  \ottnt{e_{{\mathrm{1}}}}  \colon  \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}}}%
\ottpremise{\Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \mathit{y}  \colon{}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{;}  \Delta_{{\mathrm{2}}}  \ottsym{,}  \textbf{f}  \ottsym{,}  \textbf{f}  \rightarrow  \Delta_{{\mathrm{3}}}  \ottsym{,}  \textbf{s}  \ottsym{,}  \textbf{s}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon  \ottnt{t_{{\mathrm{3}}}}}%
}{
\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{3}}}  \vdash{}  \mathbin{\textbf{let} } \, \mathit{x}  \ottsym{,}  \mathit{y}  \ottsym{=}  \ottnt{e_{{\mathrm{1}}}} \, \mathbin{\textbf{in} } \, \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{3}}}}  \colon  \ottnt{t_{{\mathrm{3}}}}}{%
{\ottdrulename{infer\_let}}{}%
}}


\newcommand{\ottdruleinferXXcut}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \ottnt{E}  \colon  \ottnt{t}}%
}{
\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}   \ottnt{E}  \colon  \ottnt{t}   \colon  \ottnt{t}}{%
{\ottdrulename{infer\_cut}}{}%
}}

\newcommand{\ottdefninfer}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \ottnt{e}  \colon  \ottnt{t}$}{}
\ottusedrule{\ottdruleinferXXvar{}}
\ottusedrule{\ottdruleinferXXapp{}}
\ottusedrule{\ottdruleinferXXstep{}}
\ottusedrule{\ottdruleinferXXlet{}}
\ottusedrule{\ottdruleinferXXcut{}}
\end{ottdefnblock}}

%% defn check
\newcommand{\ottdrulecheckXXlam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{;}  \Delta  \ottsym{,}  \textbf{f}  \rightarrow  \Delta'  \ottsym{,}  \textbf{s}  \vdash{}  \ottnt{E}  \colon  \ottnt{t_{{\mathrm{2}}}}}%
}{
\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \lambda{} \, \mathit{x}  \ottsym{.}  \ottnt{E}  \colon  \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{check\_lam}}{}%
}}


\newcommand{\ottdrulecheckXXtt}[1]{\ottdrule[#1]{%
\ottpremise{\ottkw{len} \, \Gamma  \ottsym{=}  \ottkw{len} \, \Delta}%
}{
\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta  \vdash{}  \mathop{ \textbf ! }  \colon  \textbf{I}}{%
{\ottdrulename{check\_tt}}{}%
}}


\newcommand{\ottdrulecheckXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \colon  \ottnt{t_{{\mathrm{1}}}}}%
\ottpremise{\Gamma  \ottsym{;}  \Delta_{{\mathrm{2}}}  \rightarrow  \Delta_{{\mathrm{3}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon  \ottnt{t_{{\mathrm{2}}}}}%
}{
\Gamma  \ottsym{;}  \Delta_{{\mathrm{1}}}  \rightarrow  \Delta_{{\mathrm{3}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{E_{{\mathrm{2}}}}  \colon  \ottnt{t_{{\mathrm{1}}}}  \otimes{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{check\_fanout}}{}%
}}


\newcommand{\ottdrulecheckXXneu}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \ottnt{e}  \colon  \ottnt{t}}%
}{
\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}   [  \ottnt{e}  ]   \colon  \ottnt{t}}{%
{\ottdrulename{check\_neu}}{}%
}}

\newcommand{\ottdefncheck}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \ottsym{;}  \Delta  \rightarrow  \Delta'  \vdash{}  \ottnt{E}  \colon  \ottnt{t}$}{}
\ottusedrule{\ottdrulecheckXXlam{}}
\ottusedrule{\ottdrulecheckXXtt{}}
\ottusedrule{\ottdrulecheckXXfanout{}}
\ottusedrule{\ottdrulecheckXXneu{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsjudgeXXcontext}{
\ottdefninfer{}\ottdefncheck{}}

% defns sat
%% defn produces
\newcommand{\ottdruleproducesXXvar}[1]{\ottdrule[#1]{%
}{
 \mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\vdash}  \mathit{x}  [  \ottnt{v}  ] }{%
{\ottdrulename{produces\_var}}{}%
}}


\newcommand{\ottdruleproducesXXstep}[1]{\ottdrule[#1]{%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{e}  [  \mathop{ \textbf ! }  ] }%
\ottpremise{ \sigma'  \mathrel{\vdash}  \ottnt{E'}  [  \ottnt{v}  ] }%
}{
 \sigma  \mathrel{\cup}  \sigma'  \mathrel{\vdash}  \ottsym{(}  \ottnt{e}  \ottsym{;}  \ottnt{E'}  \colon{}  \ottnt{t}  \ottsym{)}  [  \ottnt{v}  ] }{%
{\ottdrulename{produces\_step}}{}%
}}


\newcommand{\ottdruleproducesXXlet}[1]{\ottdrule[#1]{%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{e}  [  \ottnt{v_{{\mathrm{0}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{1}}}}  ] }%
\ottpremise{ \sigma'  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{,}  \mathit{y}  \mathbin{:=}  \ottnt{v_{{\mathrm{1}}}}  \mathrel{\vdash}  \ottnt{E'}  [  \ottnt{v_{{\mathrm{2}}}}  ] }%
}{
 \sigma  \mathrel{\cup}  \sigma'  \mathrel{\vdash}  \ottsym{(}  \mathbin{\textbf{let} } \, \mathit{x}  \ottsym{,}  \mathit{y}  \ottsym{=}  \ottnt{e} \, \mathbin{\textbf{in} } \, \ottnt{E'}  \colon{}  \ottnt{t}  \ottsym{)}  [  \ottnt{v_{{\mathrm{2}}}}  ] }{%
{\ottdrulename{produces\_let}}{}%
}}


\newcommand{\ottdruleproducesXXapp}[1]{\ottdrule[#1]{%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{e}  [  \ottnt{v}  \ottsym{,}  \ottnt{v'}  ] }%
\ottpremise{ \sigma'  \mathrel{\vdash}  \ottnt{E'}  [  \ottnt{v}  ] }%
}{
 \sigma  \mathrel{\cup}  \sigma'  \mathrel{\vdash}  \ottsym{(}  \ottnt{e} \, \ottnt{E'}  \ottsym{)}  [  \ottnt{v'}  ] }{%
{\ottdrulename{produces\_app}}{}%
}}


\newcommand{\ottdruleproducesXXcut}[1]{\ottdrule[#1]{%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{E}  [  \ottnt{v}  ] }%
}{
 \sigma  \mathrel{\vdash}  \ottsym{(}   \ottnt{E}  \colon  \ottnt{t}   \ottsym{)}  [  \ottnt{v}  ] }{%
{\ottdrulename{produces\_cut}}{}%
}}

\newcommand{\ottdefnproduces}[1]{\begin{ottdefnblock}[#1]{$ \sigma  \mathrel{\vdash}  \ottnt{e}  [  \ottnt{v}  ] $}{}
\ottusedrule{\ottdruleproducesXXvar{}}
\ottusedrule{\ottdruleproducesXXstep{}}
\ottusedrule{\ottdruleproducesXXlet{}}
\ottusedrule{\ottdruleproducesXXapp{}}
\ottusedrule{\ottdruleproducesXXcut{}}
\end{ottdefnblock}}

%% defn accepts
\newcommand{\ottdruleacceptsXXtt}[1]{\ottdrule[#1]{%
}{
 \bullet{}  \mathrel{\vdash}  \mathop{ \textbf ! }  [  \mathop{ \textbf ! }  ] }{%
{\ottdrulename{accepts\_tt}}{}%
}}


\newcommand{\ottdruleacceptsXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{E}  [  \ottnt{v}  ] }%
\ottpremise{ \sigma'  \mathrel{\vdash}  \ottnt{E'}  [  \ottnt{v'}  ] }%
}{
 \sigma  \mathrel{\cup}  \sigma'  \mathrel{\vdash}  \ottsym{(}  \ottnt{E}  \ottsym{,}  \ottnt{E'}  \ottsym{)}  [  \ottnt{v}  \ottsym{,}  \ottnt{v'}  ] }{%
{\ottdrulename{accepts\_fanout}}{}%
}}


\newcommand{\ottdruleacceptsXXlam}[1]{\ottdrule[#1]{%
\ottpremise{ \sigma  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\vdash}  \ottnt{E}  [  \ottnt{v'}  ] }%
}{
 \sigma  \mathrel{\vdash}  \ottsym{(}  \lambda{} \, \mathit{x}  \ottsym{.}  \ottnt{E}  \ottsym{)}  [  \ottnt{v}  \ottsym{,}  \ottnt{v'}  ] }{%
{\ottdrulename{accepts\_lam}}{}%
}}


\newcommand{\ottdruleacceptsXXneu}[1]{\ottdrule[#1]{%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{e}  [  \ottnt{v}  ] }%
}{
 \sigma  \mathrel{\vdash}  \ottsym{(}   [  \ottnt{e}  ]   \ottsym{)}  [  \ottnt{v}  ] }{%
{\ottdrulename{accepts\_neu}}{}%
}}

\newcommand{\ottdefnaccepts}[1]{\begin{ottdefnblock}[#1]{$ \sigma  \mathrel{\vdash}  \ottnt{E}  [  \ottnt{v}  ] $}{}
\ottusedrule{\ottdruleacceptsXXtt{}}
\ottusedrule{\ottdruleacceptsXXfanout{}}
\ottusedrule{\ottdruleacceptsXXlam{}}
\ottusedrule{\ottdruleacceptsXXneu{}}
\end{ottdefnblock}}


\newcommand{\ottdefnssat}{
\ottdefnproduces{}\ottdefnaccepts{}}

% defns sound
%% defn sound
\newcommand{\ottdrulesoundXXnil}[1]{\ottdrule[#1]{%
}{
\ottnt{E}  \ottsym{[}  \bullet{}  \ottsym{;}  \ottnt{v}  \ottsym{]}}{%
{\ottdrulename{sound\_nil}}{}%
}}


\newcommand{\ottdrulesoundXXcons}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{E}  \ottsym{[}  S^*  \ottsym{;}  \ottnt{v}  \ottsym{]}}%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{E}  [  \ottnt{v}  ] }%
}{
\ottnt{E}  \ottsym{[}  S^*  \ottsym{,}  \sigma  \ottsym{;}  \ottnt{v}  \ottsym{]}}{%
{\ottdrulename{sound\_cons}}{}%
}}

\newcommand{\ottdefnsound}[1]{\begin{ottdefnblock}[#1]{$\ottnt{E}  \ottsym{[}  S^*  \ottsym{;}  \ottnt{v}  \ottsym{]}$}{}
\ottusedrule{\ottdrulesoundXXnil{}}
\ottusedrule{\ottdrulesoundXXcons{}}
\end{ottdefnblock}}

%% defn sounde
\newcommand{\ottdrulesoundeXXnil}[1]{\ottdrule[#1]{%
}{
\ottnt{e}  \ottsym{[}  \bullet{}  \ottsym{]}}{%
{\ottdrulename{sounde\_nil}}{}%
}}


\newcommand{\ottdrulesoundeXXcons}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{e}  \ottsym{[}  P^*  \ottsym{]}}%
\ottpremise{ \sigma  \mathrel{\vdash}  \ottnt{e}  [  \ottnt{v}  ] }%
}{
\ottnt{e}  \ottsym{[}  P^*  \ottsym{,}  \sigma  \vdash{}  \ottnt{v}  \ottsym{]}}{%
{\ottdrulename{sounde\_cons}}{}%
}}

\newcommand{\ottdefnsounde}[1]{\begin{ottdefnblock}[#1]{$\ottnt{e}  \ottsym{[}  P^*  \ottsym{]}$}{}
\ottusedrule{\ottdrulesoundeXXnil{}}
\ottusedrule{\ottdrulesoundeXXcons{}}
\end{ottdefnblock}}


\newcommand{\ottdefnssound}{
\ottdefnsound{}\ottdefnsounde{}}

\newcommand{\ottdefnss}{
\ottfundefnsetaXXexpand
\ottdefnsdummy
\ottdefnsfind
\ottdefnsjudgeXXterm
\ottdefnsjudgeXXsubst
\ottdefnshsubstsV
\ottdefnshsubstsv
\ottfundefnsxsofG
\ottdefnslfind
\ottdefnsjudgeXXcontext
\ottdefnssat
\ottdefnssound
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

