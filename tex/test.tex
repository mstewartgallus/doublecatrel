% generated by Ott 0.31 from: ott/test.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \mathit{var} ,\, \mathit{x} $ &  \\
 $ \ottmv{index} ,\, \ottmv{i} ,\, \ottmv{m} ,\, \ottmv{n} $ &  \\
}}

\newcommand{\otttype}{
\ottrulehead{\ottnt{type}  ,\ \ottnt{t}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\top{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{t}  \times{}  \ottnt{t'}}{}{}{}{}}

\newcommand{\ottterm}{
\ottrulehead{\ottnt{term}  ,\ \ottnt{v}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathop{ \textbf ! }}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pi{}_1 \, \ottnt{v}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pi{}_2 \, \ottnt{v}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{v}  \ottsym{,}  \ottnt{v'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{v}  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{V}  \ottsym{[}  \ottnt{v}  \ottsym{]}} {\textsf{M}}{}{}{}}

\newcommand{\ottcontext}{
\ottrulehead{\ottnt{context}  ,\ \ottnt{E}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\exists{} \, \mathit{x}  \colon{}  \ottnt{t}  \ottsym{.}  \ottnt{E}}{}{\textsf{bind}\; \mathit{x}\; \textsf{in}\; \ottnt{E}}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E} \, \ottnt{E'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathop{ \textbf ! }}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  ;  \ottnt{E'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  \ottsym{,}  \ottnt{E'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{let} \, \ottsym{(}  \mathit{x_{{\mathrm{0}}}}  \ottsym{,}  \mathit{x_{{\mathrm{1}}}}  \ottsym{)}  \mathbin{:=}  \ottnt{E} \, \ottkw{in} \, \ottnt{E'}}{}{\textsf{bind}\; \mathit{x_{{\mathrm{0}}}} \cup  \mathit{x_{{\mathrm{1}}}}\; \textsf{in}\; \ottnt{E'}}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{E}  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \mathit{x}  \mathbin{:=}  \ottnt{E}  \ottsym{]}  \ottnt{E'}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{e} \, \ottsym{[}  \ottnt{E}  \ottsym{]}} {\textsf{M}}{}{}{}}

\newcommand{\ottenvironment}{
\ottrulehead{\ottnt{environment}  ,\ \Gamma}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \cup{}  \Gamma'}{}{}{}{}}

\newcommand{\ottseq}{
\ottrulehead{\ottnt{seq}  ,\ \Delta}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Delta  \ottsym{,}  \mathit{x}  \ottsym{[}  \ottnt{v}  \ottsym{]}}{}{}{}{}}

\newcommand{\otttermXXctx}{
\ottrulehead{\ottnt{term\_ctx}  ,\ \ottnt{V}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\pi{}_1 \, [\cdot{}]}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pi{}_2 \, [\cdot{}]}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{v}  \ottsym{,} \, [\cdot{}]}{}{}{}{}\ottprodnewline
\ottprodline{|}{[\cdot{}] \, \ottsym{,}  \ottnt{v}}{}{}{}{}}

\newcommand{\otttermXXnorm}{
\ottrulehead{\ottnt{term\_norm}  ,\ \ottnt{N}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathop{ \textbf ! }}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{N}  \ottsym{,}  \ottnt{N'}}{}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \colon{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{:=} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \cup{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \top{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \times{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ ; }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathop{ \textbf ! } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pi{}_1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pi{}_2 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ [\cdot{}] }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \exists{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \bullet{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\rightarrow} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\longrightarrow} }{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}}

\newcommand{\ottjudge}{
\ottrulehead{\ottnt{judge}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Gamma  \vdash{}  \ottnt{E}  \colon{}  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\vdash{}  \ottnt{v}  \colon{}  \ottnt{t}}{}{}{}{}}

\newcommand{\otteval}{
\ottrulehead{\ottnt{eval}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{v}  \mathrel{\rightarrow}  \ottnt{v'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{v}  \mathrel{\longrightarrow}  \ottnt{v'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Delta  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}}{}{}{}{}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judge}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{eval}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{var}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{index}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{type}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{term}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{context}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{environment}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{seq}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{term\_ctx}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{term\_norm}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\otttype\ottinterrule
\ottterm\ottinterrule
\ottcontext\ottinterrule
\ottenvironment\ottinterrule
\ottseq\ottinterrule
\otttermXXctx\ottinterrule
\otttermXXnorm\ottinterrule
\ottterminals\ottinterrule
\ottformula\ottinterrule
\ottjudge\ottinterrule
\otteval\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% defns judge
%% defn E
\newcommand{\ottdruleJEXXvar}[1]{\ottdrule[#1]{%
}{
\bullet{}  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t}  \vdash{}  \mathit{x}  \colon{}  \ottnt{t}}{%
{\ottdrulename{JE\_var}}{}%
}}


\newcommand{\ottdruleJEXXabs}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \mathit{x}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \vdash{}  \ottnt{E}  \colon{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash{}  \exists{} \, \mathit{x}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{.}  \ottnt{E}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \times{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{JE\_abs}}{}%
}}


\newcommand{\ottdruleJEXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma_{{\mathrm{1}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \times{}  \ottnt{t_{{\mathrm{2}}}}}%
\ottpremise{\Gamma_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}}%
}{
\Gamma_{{\mathrm{1}}}  \cup{}  \Gamma_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}} \, \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{JE\_app}}{}%
}}


\newcommand{\ottdruleJEXXtt}[1]{\ottdrule[#1]{%
}{
\bullet{}  \vdash{}  \mathop{ \textbf ! }  \colon{}  \top{}}{%
{\ottdrulename{JE\_tt}}{}%
}}


\newcommand{\ottdruleJEXXstep}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma_{{\mathrm{1}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \colon{}  \top{}}%
\ottpremise{\Gamma_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t}}%
}{
\Gamma_{{\mathrm{1}}}  \cup{}  \Gamma_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  ;  \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t}}{%
{\ottdrulename{JE\_step}}{}%
}}


\newcommand{\ottdruleJEXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma_{{\mathrm{1}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}}%
\ottpremise{\Gamma_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\Gamma_{{\mathrm{1}}}  \cup{}  \Gamma_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \times{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{JE\_fanout}}{}%
}}


\newcommand{\ottdruleJEXXlet}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma_{{\mathrm{1}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \times{}  \ottnt{t_{{\mathrm{2}}}}}%
\ottpremise{\Gamma_{{\mathrm{2}}}  \ottsym{,}  \mathit{x_{{\mathrm{0}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \mathit{x_{{\mathrm{1}}}}  \colon{}  \ottnt{t_{{\mathrm{2}}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{3}}}}}%
}{
\Gamma_{{\mathrm{1}}}  \cup{}  \Gamma_{{\mathrm{2}}}  \vdash{}  \ottkw{let} \, \ottsym{(}  \mathit{x_{{\mathrm{0}}}}  \ottsym{,}  \mathit{x_{{\mathrm{1}}}}  \ottsym{)}  \mathbin{:=}  \ottnt{E_{{\mathrm{1}}}} \, \ottkw{in} \, \ottnt{E_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{3}}}}}{%
{\ottdrulename{JE\_let}}{}%
}}

\newcommand{\ottdefnJE}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash{}  \ottnt{E}  \colon{}  \ottnt{t}$}{}
\ottusedrule{\ottdruleJEXXvar{}}
\ottusedrule{\ottdruleJEXXabs{}}
\ottusedrule{\ottdruleJEXXapp{}}
\ottusedrule{\ottdruleJEXXtt{}}
\ottusedrule{\ottdruleJEXXstep{}}
\ottusedrule{\ottdruleJEXXfanout{}}
\ottusedrule{\ottdruleJEXXlet{}}
\end{ottdefnblock}}

%% defn v
\newcommand{\ottdruleJvXXtt}[1]{\ottdrule[#1]{%
}{
\vdash{}  \mathop{ \textbf ! }  \colon{}  \top{}}{%
{\ottdrulename{Jv\_tt}}{}%
}}


\newcommand{\ottdruleJvXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\vdash{}  \ottnt{v_{{\mathrm{1}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}}%
\ottpremise{\vdash{}  \ottnt{v_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\vdash{}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \times{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{Jv\_fanout}}{}%
}}


\newcommand{\ottdruleJvXXfst}[1]{\ottdrule[#1]{%
\ottpremise{\vdash{}  \ottnt{v}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \times{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\vdash{}  \pi{}_1 \, \ottnt{v}  \colon{}  \ottnt{t_{{\mathrm{1}}}}}{%
{\ottdrulename{Jv\_fst}}{}%
}}


\newcommand{\ottdruleJvXXsnd}[1]{\ottdrule[#1]{%
\ottpremise{\vdash{}  \ottnt{v}  \colon{}  \ottnt{t_{{\mathrm{1}}}}  \times{}  \ottnt{t_{{\mathrm{2}}}}}%
}{
\vdash{}  \pi{}_2 \, \ottnt{v}  \colon{}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulename{Jv\_snd}}{}%
}}

\newcommand{\ottdefnJv}[1]{\begin{ottdefnblock}[#1]{$\vdash{}  \ottnt{v}  \colon{}  \ottnt{t}$}{}
\ottusedrule{\ottdruleJvXXtt{}}
\ottusedrule{\ottdruleJvXXfanout{}}
\ottusedrule{\ottdruleJvXXfst{}}
\ottusedrule{\ottdruleJvXXsnd{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsjudge}{
\ottdefnJE{}\ottdefnJv{}}

% defns eval
%% defn step_v
\newcommand{\ottdrulestepvXXbetaOne}[1]{\ottdrule[#1]{%
}{
\pi{}_1 \, \ottsym{(}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}  \ottsym{)}  \mathrel{\rightarrow}  \ottnt{v_{{\mathrm{1}}}}}{%
{\ottdrulename{stepv\_beta1}}{}%
}}


\newcommand{\ottdrulestepvXXbetaTwo}[1]{\ottdrule[#1]{%
}{
\pi{}_2 \, \ottsym{(}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}  \ottsym{)}  \mathrel{\rightarrow}  \ottnt{v_{{\mathrm{2}}}}}{%
{\ottdrulename{stepv\_beta2}}{}%
}}


\newcommand{\ottdrulestepvXXctx}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{v}  \mathrel{\rightarrow}  \ottnt{v'}}%
}{
\ottnt{V}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\rightarrow}  \ottnt{V}  \ottsym{[}  \ottnt{v'}  \ottsym{]}}{%
{\ottdrulename{stepv\_ctx}}{}%
}}

\newcommand{\ottdefnstepXXv}[1]{\begin{ottdefnblock}[#1]{$\ottnt{v}  \mathrel{\rightarrow}  \ottnt{v'}$}{}
\ottusedrule{\ottdrulestepvXXbetaOne{}}
\ottusedrule{\ottdrulestepvXXbetaTwo{}}
\ottusedrule{\ottdrulestepvXXctx{}}
\end{ottdefnblock}}

%% defn multi_v
\newcommand{\ottdrulemultivXXid}[1]{\ottdrule[#1]{%
}{
\ottnt{v}  \mathrel{\longrightarrow}  \ottnt{v}}{%
{\ottdrulename{multiv\_id}}{}%
}}


\newcommand{\ottdrulemultivXXthen}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{v_{{\mathrm{1}}}}  \mathrel{\rightarrow}  \ottnt{v_{{\mathrm{2}}}}}%
\ottpremise{\ottnt{v_{{\mathrm{2}}}}  \mathrel{\longrightarrow}  \ottnt{v_{{\mathrm{3}}}}}%
}{
\ottnt{v_{{\mathrm{1}}}}  \mathrel{\longrightarrow}  \ottnt{v_{{\mathrm{3}}}}}{%
{\ottdrulename{multiv\_then}}{}%
}}

\newcommand{\ottdefnmultiXXv}[1]{\begin{ottdefnblock}[#1]{$\ottnt{v}  \mathrel{\longrightarrow}  \ottnt{v'}$}{}
\ottusedrule{\ottdrulemultivXXid{}}
\ottusedrule{\ottdrulemultivXXthen{}}
\end{ottdefnblock}}

%% defn sat
\newcommand{\ottdrulesatXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{Map.find }\mathit{x}\texttt{ }\Delta\texttt{ = Some v }}%
}{
\Delta  \vdash{}  \mathit{x}  \ottsym{[}  \ottnt{v}  \ottsym{]}}{%
{\ottdrulename{sat\_var}}{}%
}}


\newcommand{\ottdrulesatXXtt}[1]{\ottdrule[#1]{%
}{
\Delta  \vdash{}  \mathop{ \textbf ! }  \ottsym{[}  \mathop{ \textbf ! }  \ottsym{]}}{%
{\ottdrulename{sat\_tt}}{}%
}}


\newcommand{\ottdrulesatXXstep}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash{}  \ottnt{E_{{\mathrm{0}}}}  \ottsym{[}  \mathop{ \textbf ! }  \ottsym{]}}%
\ottpremise{\Delta  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{[}  \ottnt{v}  \ottsym{]}}%
}{
\Delta  \vdash{}  \ottsym{(}  \ottnt{E_{{\mathrm{0}}}}  ;  \ottnt{E_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{[}  \ottnt{v}  \ottsym{]}}{%
{\ottdrulename{sat\_step}}{}%
}}


\newcommand{\ottdrulesatXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash{}  \ottnt{E_{{\mathrm{0}}}}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{]}}%
\ottpremise{\Delta  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{[}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}%
}{
\Delta  \vdash{}  \ottsym{(}  \ottnt{E_{{\mathrm{0}}}}  \ottsym{,}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}{%
{\ottdrulename{sat\_fanout}}{}%
}}


\newcommand{\ottdrulesatXXlet}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash{}  \ottnt{E_{{\mathrm{0}}}}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{]}}%
\ottpremise{\Delta  \ottsym{,}  \mathit{x_{{\mathrm{0}}}}  \ottsym{[}  \pi{}_1 \, \ottnt{v_{{\mathrm{0}}}}  \ottsym{]}  \ottsym{,}  \mathit{x_{{\mathrm{1}}}}  \ottsym{[}  \pi{}_2 \, \ottnt{v_{{\mathrm{0}}}}  \ottsym{]}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{[}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}%
}{
\Delta  \vdash{}  \ottsym{(}  \ottkw{let} \, \ottsym{(}  \mathit{x_{{\mathrm{0}}}}  \ottsym{,}  \mathit{x_{{\mathrm{1}}}}  \ottsym{)}  \mathbin{:=}  \ottnt{E_{{\mathrm{0}}}} \, \ottkw{in} \, \ottnt{E_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{[}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}{%
{\ottdrulename{sat\_let}}{}%
}}


\newcommand{\ottdrulesatXXabs}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \ottsym{,}  \mathit{x}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{]}  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}%
}{
\Delta  \vdash{}  \ottsym{(}  \exists{} \, \mathit{x}  \colon{}  \ottnt{t}  \ottsym{.}  \ottnt{E}  \ottsym{)}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}{%
{\ottdrulename{sat\_abs}}{}%
}}


\newcommand{\ottdrulesatXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash{}  \ottnt{E_{{\mathrm{0}}}}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}%
\ottpremise{\Delta  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{]}}%
}{
\Delta  \vdash{}  \ottsym{(}  \ottnt{E_{{\mathrm{0}}}} \, \ottnt{E_{{\mathrm{1}}}}  \ottsym{)}  \ottsym{[}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}{%
{\ottdrulename{sat\_app}}{}%
}}


\newcommand{\ottdrulesatXXsstep}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{v_{{\mathrm{0}}}}  \mathrel{\rightarrow}  \ottnt{v_{{\mathrm{1}}}}}%
\ottpremise{\Delta  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}}%
}{
\Delta  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{]}}{%
{\ottdrulename{sat\_sstep}}{}%
}}

\newcommand{\ottdefnsat}[1]{\begin{ottdefnblock}[#1]{$\Delta  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}$}{}
\ottusedrule{\ottdrulesatXXvar{}}
\ottusedrule{\ottdrulesatXXtt{}}
\ottusedrule{\ottdrulesatXXstep{}}
\ottusedrule{\ottdrulesatXXfanout{}}
\ottusedrule{\ottdrulesatXXlet{}}
\ottusedrule{\ottdrulesatXXabs{}}
\ottusedrule{\ottdrulesatXXapp{}}
\ottusedrule{\ottdrulesatXXsstep{}}
\end{ottdefnblock}}


\newcommand{\ottdefnseval}{
\ottdefnstepXXv{}\ottdefnmultiXXv{}\ottdefnsat{}}

\newcommand{\ottdefnss}{
\ottdefnsjudge
\ottdefnseval
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

