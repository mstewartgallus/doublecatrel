% generated by Ott 0.32 from: ott/term.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \mathit{var} ,\, \mathit{x} ,\, \mathit{y} $ &  \\
 $ \mathit{sort} ,\, \mathit{A} $ &  \\
 $ \mathit{function} ,\, \mathit{f} $ &  \\
 $ \mathit{relation} ,\, \mathit{R} $ &  \\
}}

\newcommand{\otttype}{
\ottrulehead{\ottnt{type}  ,\ \tau}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textbf{I}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\tau  \otimes{}  \tau'}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \tau  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottuse}{
\ottrulehead{\ottnt{use}  ,\ \ottnt{u}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\textbf{s}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textbf{f}}{}{}{}{}}

\newcommand{\ottusage}{
\ottrulehead{\ottnt{usage}  ,\ \Delta}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Delta  \ottsym{,}  \mathit{x}  \ottsym{[}  \ottnt{u}  \ottsym{]}}{}{}{}{}}

\newcommand{\ottglobal}{
\ottrulehead{\ottnt{global}  ,\ \ottnt{g}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{sort}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\tau  \rightarrow  \mathit{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{rel} \, \tau}{}{}{}{}}

\newcommand{\ottsignature}{
\ottrulehead{\ottnt{signature}  ,\ \Sigma}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Sigma  \ottsym{,}  \mathit{A}  \colon{}  \ottnt{g}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Sigma  \ottsym{,}  \mathit{f}  \colon{}  \ottnt{g}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Sigma  \ottsym{,}  \mathit{R}  \colon{}  \ottnt{g}}{}{}{}{}}

\newcommand{\ottsequent}{
\ottrulehead{\ottnt{sequent}  ,\ \ottnt{H}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{c}  \ottsym{=>}  \ottnt{c'}}{}{}{}{}}

\newcommand{\otttheory}{
\ottrulehead{\ottnt{theory}  ,\ \ottnt{T}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{T}  \ottsym{,}  \ottnt{H}}{}{}{}{}}

\newcommand{\ottenvironment}{
\ottrulehead{\ottnt{environment}  ,\ \Gamma}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \mathit{x}  \colon{}  \tau}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \Gamma  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \mathrel{\cup}  \Gamma'} {\textsf{M}}{}{}{}}

\newcommand{\ottelim}{
\ottrulehead{\ottnt{elim}  ,\ \ottnt{V}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pi{}_1 \, \ottnt{V}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pi{}_2 \, \ottnt{V}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{V}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottintro}{
\ottrulehead{\ottnt{intro}  ,\ \ottnt{v}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{f} \, \ottnt{v}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathop{ \textbf ! }}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{v}  \ottsym{,}  \ottnt{v'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ [  \ottnt{V}  ] }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{v}  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{ \eta_{ \tau }  \ottnt{V} } {\textsf{M}}{}{}{}}

\newcommand{\ottcontext}{
\ottrulehead{\ottnt{context}  ,\ \ottnt{E}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{f} \, \ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\varepsilon{} \, \mathit{x}  \colon{}  \tau  \ottsym{.}  \ottnt{c}}{}{\textsf{bind}\; \mathit{x}\; \textsf{in}\; \ottnt{c}}{}{}\ottprodnewline
\ottprodline{|}{\mathop{ \textbf ! }}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  \ottsym{,}  \ottnt{E'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{match} \, \mathit{x}  \colon{}  \tau_{{\mathrm{1}}}  \ottsym{,}  \mathit{y}  \colon{}  \tau_{{\mathrm{2}}} \, \mathbin{\textbf{in} } \, \ottnt{c}}{}{\textsf{bind}\; \mathit{x} \cup  \mathit{y}\; \textsf{in}\; \ottnt{c}}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{dup} \, \ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{del} \, \ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{E}  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \ottnt{v}  \ottsym{]}} {\textsf{M}}{}{}{}}

\newcommand{\ottcommand}{
\ottrulehead{\ottnt{command}  ,\ \ottnt{c}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{R} \, \ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  \ottsym{=}  \ottnt{E'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\top}{}{}{}{}\ottprodnewline
\ottprodline{|}{\bot}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{c}  \wedge  \ottnt{c'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{c}  \vee  \ottnt{c'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{c}  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  \ottsym{;}  \ottnt{c'}} {\textsf{M}}{}{}{}}

\newcommand{\ottsubst}{
\ottrulehead{\ottnt{subst}  ,\ \rho}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\rho  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \rho  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottspan}{
\ottrulehead{\ottnt{span}  ,\ \ottnt{P}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\rho  \vdash{}  \ottnt{v}}{}{}{}{}}

\newcommand{\ottspans}{
\ottrulehead{\ottnt{spans}  ,\ P^*}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet{}}{}{}{}{}\ottprodnewline
\ottprodline{|}{P^*  \ottsym{,}  \ottnt{P}}{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{x}  \mathrel{\ne}  \mathit{y}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{x}  \ottsym{=}  \mathit{y}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{n} \, \ottsym{=}  \ottsym{n'}} {\textsf{M}}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \colon{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{:=} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \rightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \cdot }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \circ }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{I} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Box }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \otimes{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{s} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{f} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\boxtimes} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathop{ \textbf ! } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pi{}_1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pi{}_2 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \top }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \bot }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \wedge }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vee }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \lambda{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \varepsilon{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \bullet{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{\textbf{let} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbin{\textbf{in} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\in} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Rightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Leftarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\in!} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\notin} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\cup} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\Downarrow} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\ne} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrel{\sim} }{}{}{}{}}

\newcommand{\ottetaXXexpand}{
\ottrulehead{\ottnt{eta\_expand}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \eta_{ \tau }  \ottnt{V} }{}{}{}{}}

\newcommand{\ottstepXXelim}{
\ottrulehead{\ottnt{step\_elim}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{E}  \ottsym{;}  \ottnt{c'}  \ottsym{===}  \ottnt{c}}{}{}{}{}}

\newcommand{\ottinjectXXnf}{
\ottrulehead{\ottnt{inject\_nf}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottsym{[}  \ottnt{v}  \ottsym{]}  \ottsym{===}  \ottnt{E}}{}{}{}{}}

\newcommand{\ottfind}{
\ottrulehead{\ottnt{find}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}  \colon{}  \tau  \mathrel{\in}  \Gamma}{}{}{}{}}

\newcommand{\ottjudgeXXterm}{
\ottrulehead{\ottnt{judge\_term}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{V}  \Rightarrow  \tau}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{v}  \Leftarrow  \tau}{}{}{}{}}

\newcommand{\ottjudgeXXsubst}{
\ottrulehead{\ottnt{judge\_subst}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Sigma  \vdash{}  \rho  \colon{}  \Gamma  \rightarrow  \Gamma'}{}{}{}{}}

\newcommand{\ottbigV}{
\ottrulehead{\ottnt{bigV}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\rho  \vdash{}  \ottnt{V}  \mathrel{\Downarrow}  \ottnt{v'}}{}{}{}{}}

\newcommand{\ottbigv}{
\ottrulehead{\ottnt{bigv}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\rho  \vdash{}  \ottnt{v}  \mathrel{\Downarrow}  \ottnt{v'}}{}{}{}{}}

\newcommand{\ottlfind}{
\ottrulehead{\ottnt{lfind}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}  \mathrel{\in}  \Delta  \mathrel{\boxtimes}  \Delta'}{}{}{}{}}

\newcommand{\ottscope}{
\ottrulehead{\ottnt{scope}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Delta  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \Delta'}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Delta  \vdash{}  \ottnt{E}  \mathrel{\boxtimes}  \Delta'}{}{}{}{}}

\newcommand{\ottjudgeXXcontext}{
\ottrulehead{\ottnt{judge\_context}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \Leftarrow  \tau}{}{}{}{}}

\newcommand{\ottpfind}{
\ottrulehead{\ottnt{pfind}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\in}  \rho  \mathrel{\boxtimes}  \rho'}{}{}{}{}}

\newcommand{\ottsat}{
\ottrulehead{\ottnt{sat}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \rho'}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho'}{}{}{}{}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{find}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{judge\_term}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{judge\_subst}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{bigV}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{bigv}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{lfind}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{scope}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{judge\_context}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{pfind}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{sat}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\mathit{var}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{sort}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{function}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathit{relation}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{type}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{use}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{usage}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{global}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{signature}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{sequent}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{theory}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{environment}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{elim}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{intro}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{context}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{command}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{subst}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{span}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{spans}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\otttype\ottinterrule
\ottuse\ottinterrule
\ottusage\ottinterrule
\ottglobal\ottinterrule
\ottsignature\ottinterrule
\ottsequent\ottinterrule
\otttheory\ottinterrule
\ottenvironment\ottinterrule
\ottelim\ottinterrule
\ottintro\ottinterrule
\ottcontext\ottinterrule
\ottcommand\ottinterrule
\ottsubst\ottinterrule
\ottspan\ottinterrule
\ottspans\ottinterrule
\ottformula\ottinterrule
\ottterminals\ottinterrule
\ottetaXXexpand\ottinterrule
\ottstepXXelim\ottinterrule
\ottinjectXXnf\ottinterrule
\ottfind\ottinterrule
\ottjudgeXXterm\ottinterrule
\ottjudgeXXsubst\ottinterrule
\ottbigV\ottinterrule
\ottbigv\ottinterrule
\ottlfind\ottinterrule
\ottscope\ottinterrule
\ottjudgeXXcontext\ottinterrule
\ottpfind\ottinterrule
\ottsat\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% fundefns eta_expand
% fundefn eta

\newcommand{\ottfundefneta}[1]{\begin{ottfundefnblock}[#1]{$ \eta_{ \tau }  \ottnt{V} $}{}
\ottfunclause{ \eta_{ \mathit{A} }  \ottnt{V} }{ [  \ottnt{V}  ] }%
\ottfunclause{ \eta_{ \textbf{I} }  \ottnt{V} }{\mathop{ \textbf ! }}%
\ottfunclause{ \eta_{ \tau_{{\mathrm{1}}}  \otimes{}  \tau_{{\mathrm{2}}} }  \ottnt{V} }{ \eta_{ \tau_{{\mathrm{1}}} }  \ottsym{(}  \pi{}_1 \, \ottnt{V}  \ottsym{)}   \ottsym{,}   \eta_{ \tau_{{\mathrm{2}}} }  \ottsym{(}  \pi{}_2 \, \ottnt{V}  \ottsym{)} }%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsetaXXexpand}{
\ottfundefneta{}}

% fundefns step_elim
% fundefn step

\newcommand{\ottfundefnstep}[1]{\begin{ottfundefnblock}[#1]{$\ottnt{E}  \ottsym{;}  \ottnt{c'}$}{}
\ottfunclause{\ottnt{E}  \ottsym{;}  \ottnt{c}}{\ottnt{E}  \ottsym{=}  \mathop{ \textbf ! }  \wedge  \ottnt{c}}%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsstepXXelim}{
\ottfundefnstep{}}

% fundefns inject_nf
% fundefn inject

\newcommand{\ottfundefninject}[1]{\begin{ottfundefnblock}[#1]{$\ottsym{[}  \ottnt{v}  \ottsym{]}$}{}
\ottfunclause{\ottsym{[}   [  \mathit{x}  ]   \ottsym{]}}{\mathit{x}}%
\ottfunclause{\ottsym{[}  \mathop{ \textbf ! }  \ottsym{]}}{\mathop{ \textbf ! }}%
\ottfunclause{\ottsym{[}  \ottnt{v}  \ottsym{,}  \ottnt{v'}  \ottsym{]}}{\ottsym{[}  \ottnt{v}  \ottsym{]}  \ottsym{,}  \ottsym{[}  \ottnt{v'}  \ottsym{]}}%
\ottfunclause{\ottsym{[}  \mathit{f} \, \ottnt{v}  \ottsym{]}}{\mathit{f} \, \ottsym{[}  \ottnt{v}  \ottsym{]}}%
\ottfunclause{\ottsym{[}  \ottnt{v}  \ottsym{]}}{\mathop{ \textbf ! }}%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsinjectXXnf}{
\ottfundefninject{}}

% defns find
%% defn mem
\newcommand{\ottdrulememXXeq}[1]{\ottdrule[#1]{%
}{
\mathit{x}  \colon{}  \tau  \mathrel{\in}  \Gamma  \ottsym{,}  \mathit{x}  \colon{}  \tau}{%
{\ottdrulename{mem\_eq}}{}%
}}


\newcommand{\ottdrulememXXne}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \mathrel{\ne}  \mathit{y}}%
\ottpremise{\mathit{x}  \colon{}  \tau  \mathrel{\in}  \Gamma}%
}{
\mathit{x}  \colon{}  \tau  \mathrel{\in}  \Gamma  \ottsym{,}  \mathit{y}  \colon{}  \tau'}{%
{\ottdrulename{mem\_ne}}{}%
}}

\newcommand{\ottdefnmem}[1]{\begin{ottdefnblock}[#1]{$\mathit{x}  \colon{}  \tau  \mathrel{\in}  \Gamma$}{}
\ottusedrule{\ottdrulememXXeq{}}
\ottusedrule{\ottdrulememXXne{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsfind}{
\ottdefnmem{}}

% defns judge_term
%% defn V
\newcommand{\ottdruleJVXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \colon{}  \tau  \mathrel{\in}  \Gamma}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \mathit{x}  \Rightarrow  \tau}{%
{\ottdrulename{JV\_var}}{}%
}}


\newcommand{\ottdruleJVXXfst}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{V}  \Rightarrow  \tau_{{\mathrm{1}}}  \otimes{}  \tau_{{\mathrm{2}}}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \pi{}_1 \, \ottnt{V}  \Rightarrow  \tau_{{\mathrm{1}}}}{%
{\ottdrulename{JV\_fst}}{}%
}}


\newcommand{\ottdruleJVXXsnd}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{V}  \Rightarrow  \tau_{{\mathrm{1}}}  \otimes{}  \tau_{{\mathrm{2}}}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \pi{}_2 \, \ottnt{V}  \Rightarrow  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{JV\_snd}}{}%
}}

\newcommand{\ottdefnJV}[1]{\begin{ottdefnblock}[#1]{$\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{V}  \Rightarrow  \tau$}{}
\ottusedrule{\ottdruleJVXXvar{}}
\ottusedrule{\ottdruleJVXXfst{}}
\ottusedrule{\ottdruleJVXXsnd{}}
\end{ottdefnblock}}

%% defn v
\newcommand{\ottdruleJvXXfunction}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{Assoc.find }\mathit{f}\texttt{ }\Sigma\texttt{ = Some }\tau  \rightarrow  \mathit{A}\texttt{ }}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{v}  \Leftarrow  \tau}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \mathit{f} \, \ottnt{v}  \Leftarrow  \mathit{A}}{%
{\ottdrulename{Jv\_function}}{}%
}}


\newcommand{\ottdruleJvXXtt}[1]{\ottdrule[#1]{%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \mathop{ \textbf ! }  \Leftarrow  \textbf{I}}{%
{\ottdrulename{Jv\_tt}}{}%
}}


\newcommand{\ottdruleJvXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{v_{{\mathrm{1}}}}  \Leftarrow  \tau_{{\mathrm{1}}}}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{v_{{\mathrm{2}}}}  \Leftarrow  \tau_{{\mathrm{2}}}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}  \Leftarrow  \tau_{{\mathrm{1}}}  \otimes{}  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{Jv\_fanout}}{}%
}}


\newcommand{\ottdruleJvXXneu}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{V}  \Rightarrow  \mathit{A}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}   [  \ottnt{V}  ]   \Leftarrow  \mathit{A}}{%
{\ottdrulename{Jv\_neu}}{}%
}}

\newcommand{\ottdefnJv}[1]{\begin{ottdefnblock}[#1]{$\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{v}  \Leftarrow  \tau$}{}
\ottusedrule{\ottdruleJvXXfunction{}}
\ottusedrule{\ottdruleJvXXtt{}}
\ottusedrule{\ottdruleJvXXfanout{}}
\ottusedrule{\ottdruleJvXXneu{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsjudgeXXterm}{
\ottdefnJV{}\ottdefnJv{}}

% defns judge_subst
%% defn p
\newcommand{\ottdruleJpXXbang}[1]{\ottdrule[#1]{%
}{
\Sigma  \vdash{}  \bullet{}  \colon{}  \Gamma  \rightarrow  \bullet{}}{%
{\ottdrulename{Jp\_bang}}{}%
}}


\newcommand{\ottdruleJpXXcut}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma_{{\mathrm{1}}}  \ottsym{]}  \vdash{}  \ottnt{v}  \Leftarrow  \tau}%
\ottpremise{\Sigma  \vdash{}  \rho  \colon{}  \Gamma_{{\mathrm{1}}}  \rightarrow  \Gamma_{{\mathrm{2}}}}%
}{
\Sigma  \vdash{}  \rho  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v}  \colon{}  \Gamma_{{\mathrm{1}}}  \rightarrow  \Gamma_{{\mathrm{2}}}  \ottsym{,}  \mathit{x}  \colon{}  \tau}{%
{\ottdrulename{Jp\_cut}}{}%
}}

\newcommand{\ottdefnJp}[1]{\begin{ottdefnblock}[#1]{$\Sigma  \vdash{}  \rho  \colon{}  \Gamma  \rightarrow  \Gamma'$}{}
\ottusedrule{\ottdruleJpXXbang{}}
\ottusedrule{\ottdruleJpXXcut{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsjudgeXXsubst}{
\ottdefnJp{}}

% defns bigV
%% defn bigV
\newcommand{\ottdrulebigVXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{Assoc.find }\mathit{x}\texttt{ }\rho\texttt{ = Some }\ottnt{v}\texttt{ }}%
}{
\rho  \vdash{}  \mathit{x}  \mathrel{\Downarrow}  \ottnt{v}}{%
{\ottdrulename{bigV\_var}}{}%
}}


\newcommand{\ottdrulebigVXXfst}[1]{\ottdrule[#1]{%
\ottpremise{\rho  \vdash{}  \ottnt{V}  \mathrel{\Downarrow}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}}%
}{
\rho  \vdash{}  \pi{}_1 \, \ottnt{V}  \mathrel{\Downarrow}  \ottnt{v_{{\mathrm{1}}}}}{%
{\ottdrulename{bigV\_fst}}{}%
}}


\newcommand{\ottdrulebigVXXsnd}[1]{\ottdrule[#1]{%
\ottpremise{\rho  \vdash{}  \ottnt{V}  \mathrel{\Downarrow}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}}%
}{
\rho  \vdash{}  \pi{}_2 \, \ottnt{V}  \mathrel{\Downarrow}  \ottnt{v_{{\mathrm{2}}}}}{%
{\ottdrulename{bigV\_snd}}{}%
}}

\newcommand{\ottdefnbigV}[1]{\begin{ottdefnblock}[#1]{$\rho  \vdash{}  \ottnt{V}  \mathrel{\Downarrow}  \ottnt{v'}$}{}
\ottusedrule{\ottdrulebigVXXvar{}}
\ottusedrule{\ottdrulebigVXXfst{}}
\ottusedrule{\ottdrulebigVXXsnd{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsbigV}{
\ottdefnbigV{}}

% defns bigv
%% defn bigv
\newcommand{\ottdrulebigvXXfunction}[1]{\ottdrule[#1]{%
\ottpremise{\rho  \vdash{}  \ottnt{v}  \mathrel{\Downarrow}  \ottnt{v'}}%
}{
\rho  \vdash{}  \mathit{f} \, \ottnt{v}  \mathrel{\Downarrow}  \mathit{f} \, \ottnt{v'}}{%
{\ottdrulename{bigv\_function}}{}%
}}


\newcommand{\ottdrulebigvXXtt}[1]{\ottdrule[#1]{%
}{
\rho  \vdash{}  \mathop{ \textbf ! }  \mathrel{\Downarrow}  \mathop{ \textbf ! }}{%
{\ottdrulename{bigv\_tt}}{}%
}}


\newcommand{\ottdrulebigvXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\rho  \vdash{}  \ottnt{v_{{\mathrm{1}}}}  \mathrel{\Downarrow}  \ottnt{v'_{{\mathrm{1}}}}}%
\ottpremise{\rho  \vdash{}  \ottnt{v_{{\mathrm{2}}}}  \mathrel{\Downarrow}  \ottnt{v'_{{\mathrm{2}}}}}%
}{
\rho  \vdash{}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{2}}}}  \mathrel{\Downarrow}  \ottnt{v'_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{v'_{{\mathrm{2}}}}}{%
{\ottdrulename{bigv\_fanout}}{}%
}}


\newcommand{\ottdrulebigvXXneu}[1]{\ottdrule[#1]{%
\ottpremise{\rho  \vdash{}  \ottnt{V}  \mathrel{\Downarrow}  \ottnt{v}}%
}{
\rho  \vdash{}   [  \ottnt{V}  ]   \mathrel{\Downarrow}  \ottnt{v}}{%
{\ottdrulename{bigv\_neu}}{}%
}}

\newcommand{\ottdefnbigv}[1]{\begin{ottdefnblock}[#1]{$\rho  \vdash{}  \ottnt{v}  \mathrel{\Downarrow}  \ottnt{v'}$}{}
\ottusedrule{\ottdrulebigvXXfunction{}}
\ottusedrule{\ottdrulebigvXXtt{}}
\ottusedrule{\ottdrulebigvXXfanout{}}
\ottusedrule{\ottdrulebigvXXneu{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsbigv}{
\ottdefnbigv{}}

% defns lfind
%% defn lmem
\newcommand{\ottdrulelmemXXeq}[1]{\ottdrule[#1]{%
}{
\mathit{x}  \mathrel{\in}  \Delta  \ottsym{,}  \mathit{x}  \ottsym{[}  \textbf{f}  \ottsym{]}  \mathrel{\boxtimes}  \Delta  \ottsym{,}  \mathit{x}  \ottsym{[}  \textbf{s}  \ottsym{]}}{%
{\ottdrulename{lmem\_eq}}{}%
}}


\newcommand{\ottdrulelmemXXne}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \mathrel{\ne}  \mathit{y}}%
\ottpremise{\mathit{x}  \mathrel{\in}  \Delta  \mathrel{\boxtimes}  \Delta'}%
}{
\mathit{x}  \mathrel{\in}  \Delta  \ottsym{,}  \mathit{y}  \ottsym{[}  \ottnt{u}  \ottsym{]}  \mathrel{\boxtimes}  \Delta'  \ottsym{,}  \mathit{y}  \ottsym{[}  \ottnt{u}  \ottsym{]}}{%
{\ottdrulename{lmem\_ne}}{}%
}}

\newcommand{\ottdefnlmem}[1]{\begin{ottdefnblock}[#1]{$\mathit{x}  \mathrel{\in}  \Delta  \mathrel{\boxtimes}  \Delta'$}{}
\ottusedrule{\ottdrulelmemXXeq{}}
\ottusedrule{\ottdrulelmemXXne{}}
\end{ottdefnblock}}


\newcommand{\ottdefnslfind}{
\ottdefnlmem{}}

% defns scope
%% defn se
\newcommand{\ottdruleseXXrelation}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash{}  \ottnt{E}  \mathrel{\boxtimes}  \Delta'}%
}{
\Delta  \vdash{}  \mathit{R} \, \ottnt{E}  \mathrel{\boxtimes}  \Delta'}{%
{\ottdrulename{se\_relation}}{}%
}}


\newcommand{\ottdruleseXXunify}[1]{\ottdrule[#1]{%
\ottpremise{\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}%
\ottpremise{\Delta_{{\mathrm{2}}}  \vdash{}  \ottnt{E'}  \mathrel{\boxtimes}  \Delta_{{\mathrm{3}}}}%
}{
\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \ottsym{=}  \ottnt{E'}  \mathrel{\boxtimes}  \Delta_{{\mathrm{3}}}}{%
{\ottdrulename{se\_unify}}{}%
}}


\newcommand{\ottdruleseXXtrue}[1]{\ottdrule[#1]{%
}{
\Delta  \vdash{}  \top  \mathrel{\boxtimes}  \Delta}{%
{\ottdrulename{se\_true}}{}%
}}


\newcommand{\ottdruleseXXfalse}[1]{\ottdrule[#1]{%
}{
\Delta  \vdash{}  \bot  \mathrel{\boxtimes}  \Delta}{%
{\ottdrulename{se\_false}}{}%
}}


\newcommand{\ottdruleseXXand}[1]{\ottdrule[#1]{%
\ottpremise{\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}%
\ottpremise{\Delta_{{\mathrm{2}}}  \vdash{}  \ottnt{c'}  \mathrel{\boxtimes}  \Delta_{{\mathrm{3}}}}%
}{
\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{c}  \wedge  \ottnt{c'}  \mathrel{\boxtimes}  \Delta_{{\mathrm{3}}}}{%
{\ottdrulename{se\_and}}{}%
}}


\newcommand{\ottdruleseXXor}[1]{\ottdrule[#1]{%
\ottpremise{\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}%
\ottpremise{\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{c'}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}%
}{
\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{c}  \vee  \ottnt{c'}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}{%
{\ottdrulename{se\_or}}{}%
}}

\newcommand{\ottdefnse}[1]{\begin{ottdefnblock}[#1]{$\Delta  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \Delta'$}{}
\ottusedrule{\ottdruleseXXrelation{}}
\ottusedrule{\ottdruleseXXunify{}}
\ottusedrule{\ottdruleseXXtrue{}}
\ottusedrule{\ottdruleseXXfalse{}}
\ottusedrule{\ottdruleseXXand{}}
\ottusedrule{\ottdruleseXXor{}}
\end{ottdefnblock}}

%% defn sE
\newcommand{\ottdrulesEXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \mathrel{\in}  \Delta  \mathrel{\boxtimes}  \Delta'}%
}{
\Delta  \vdash{}  \mathit{x}  \mathrel{\boxtimes}  \Delta'}{%
{\ottdrulename{sE\_var}}{}%
}}


\newcommand{\ottdrulesEXXfunction}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash{}  \ottnt{E}  \mathrel{\boxtimes}  \Delta'}%
}{
\Delta  \vdash{}  \mathit{f} \, \ottnt{E}  \mathrel{\boxtimes}  \Delta'}{%
{\ottdrulename{sE\_function}}{}%
}}


\newcommand{\ottdrulesEXXepsilon}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \ottsym{,}  \mathit{x}  \ottsym{[}  \textbf{f}  \ottsym{]}  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \Delta'  \ottsym{,}  \mathit{x}  \ottsym{[}  \textbf{s}  \ottsym{]}}%
}{
\Delta  \vdash{}  \varepsilon{} \, \mathit{x}  \colon{}  \tau  \ottsym{.}  \ottnt{c}  \mathrel{\boxtimes}  \Delta'}{%
{\ottdrulename{sE\_epsilon}}{}%
}}


\newcommand{\ottdrulesEXXtt}[1]{\ottdrule[#1]{%
}{
\Delta  \vdash{}  \mathop{ \textbf ! }  \mathrel{\boxtimes}  \Delta}{%
{\ottdrulename{sE\_tt}}{}%
}}


\newcommand{\ottdrulesEXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}%
\ottpremise{\Delta_{{\mathrm{2}}}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \mathrel{\boxtimes}  \Delta_{{\mathrm{3}}}}%
}{
\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{E_{{\mathrm{2}}}}  \mathrel{\boxtimes}  \Delta_{{\mathrm{3}}}}{%
{\ottdrulename{sE\_fanout}}{}%
}}


\newcommand{\ottdrulesEXXmatchXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Delta_{{\mathrm{1}}}  \ottsym{,}  \mathit{x}  \ottsym{[}  \textbf{f}  \ottsym{]}  \ottsym{,}  \mathit{y}  \ottsym{[}  \textbf{f}  \ottsym{]}  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}  \ottsym{,}  \mathit{x}  \ottsym{[}  \textbf{s}  \ottsym{]}  \ottsym{,}  \mathit{y}  \ottsym{[}  \textbf{s}  \ottsym{]}}%
}{
\Delta_{{\mathrm{1}}}  \vdash{}  \ottkw{match} \, \mathit{x}  \colon{}  \tau_{{\mathrm{1}}}  \ottsym{,}  \mathit{y}  \colon{}  \tau_{{\mathrm{2}}} \, \mathbin{\textbf{in} } \, \ottnt{c}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}{%
{\ottdrulename{sE\_match\_fanout}}{}%
}}


\newcommand{\ottdrulesEXXdup}[1]{\ottdrule[#1]{%
\ottpremise{\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}%
}{
\Delta_{{\mathrm{1}}}  \vdash{}  \ottkw{dup} \, \ottnt{E}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}{%
{\ottdrulename{sE\_dup}}{}%
}}


\newcommand{\ottdrulesEXXdel}[1]{\ottdrule[#1]{%
\ottpremise{\Delta_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}%
}{
\Delta_{{\mathrm{1}}}  \vdash{}  \ottkw{del} \, \ottnt{E}  \mathrel{\boxtimes}  \Delta_{{\mathrm{2}}}}{%
{\ottdrulename{sE\_del}}{}%
}}

\newcommand{\ottdefnsE}[1]{\begin{ottdefnblock}[#1]{$\Delta  \vdash{}  \ottnt{E}  \mathrel{\boxtimes}  \Delta'$}{}
\ottusedrule{\ottdrulesEXXvar{}}
\ottusedrule{\ottdrulesEXXfunction{}}
\ottusedrule{\ottdrulesEXXepsilon{}}
\ottusedrule{\ottdrulesEXXtt{}}
\ottusedrule{\ottdrulesEXXfanout{}}
\ottusedrule{\ottdrulesEXXmatchXXfanout{}}
\ottusedrule{\ottdrulesEXXdup{}}
\ottusedrule{\ottdrulesEXXdel{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsscope}{
\ottdefnse{}\ottdefnsE{}}

% defns judge_context
%% defn infer
\newcommand{\ottdruleinferXXrelation}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{Assoc.find }\mathit{R}\texttt{ }\Sigma\texttt{ = Some }\ottkw{rel} \, \tau\texttt{ }}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \Leftarrow  \tau}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \mathit{R} \, \ottnt{E}}{%
{\ottdrulename{infer\_relation}}{}%
}}


\newcommand{\ottdruleinferXXunify}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \Leftarrow  \tau}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E'}  \Leftarrow  \tau}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \ottsym{=}  \ottnt{E'}}{%
{\ottdrulename{infer\_unify}}{}%
}}


\newcommand{\ottdruleinferXXtrue}[1]{\ottdrule[#1]{%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \top}{%
{\ottdrulename{infer\_true}}{}%
}}


\newcommand{\ottdruleinferXXfalse}[1]{\ottdrule[#1]{%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \bot}{%
{\ottdrulename{infer\_false}}{}%
}}


\newcommand{\ottdruleinferXXand}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c}}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c'}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c}  \wedge  \ottnt{c'}}{%
{\ottdrulename{infer\_and}}{}%
}}


\newcommand{\ottdruleinferXXor}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c}}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c'}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c}  \vee  \ottnt{c'}}{%
{\ottdrulename{infer\_or}}{}%
}}

\newcommand{\ottdefninfer}[1]{\begin{ottdefnblock}[#1]{$\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{c}$}{}
\ottusedrule{\ottdruleinferXXrelation{}}
\ottusedrule{\ottdruleinferXXunify{}}
\ottusedrule{\ottdruleinferXXtrue{}}
\ottusedrule{\ottdruleinferXXfalse{}}
\ottusedrule{\ottdruleinferXXand{}}
\ottusedrule{\ottdruleinferXXor{}}
\end{ottdefnblock}}

%% defn check
\newcommand{\ottdrulecheckXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{Assoc.find }\mathit{x}\texttt{ }\Gamma\texttt{ = Some }\tau\texttt{ }}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \mathit{x}  \Leftarrow  \tau}{%
{\ottdrulename{check\_var}}{}%
}}


\newcommand{\ottdrulecheckXXfunction}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{Assoc.find }\mathit{f}\texttt{ }\Sigma\texttt{ = Some }\tau  \rightarrow  \mathit{A}\texttt{ }}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \Leftarrow  \tau}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \mathit{f} \, \ottnt{E}  \Leftarrow  \mathit{A}}{%
{\ottdrulename{check\_function}}{}%
}}


\newcommand{\ottdrulecheckXXepsilon}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{,}  \mathit{x}  \colon{}  \tau  \ottsym{]}  \vdash{}  \ottnt{c}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \varepsilon{} \, \mathit{x}  \colon{}  \tau  \ottsym{.}  \ottnt{c}  \Leftarrow  \tau}{%
{\ottdrulename{check\_epsilon}}{}%
}}


\newcommand{\ottdrulecheckXXtt}[1]{\ottdrule[#1]{%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \mathop{ \textbf ! }  \Leftarrow  \textbf{I}}{%
{\ottdrulename{check\_tt}}{}%
}}


\newcommand{\ottdrulecheckXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \Leftarrow  \tau_{{\mathrm{1}}}}%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E_{{\mathrm{2}}}}  \Leftarrow  \tau_{{\mathrm{2}}}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{E_{{\mathrm{2}}}}  \Leftarrow  \tau_{{\mathrm{1}}}  \otimes{}  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{check\_fanout}}{}%
}}


\newcommand{\ottdrulecheckXXmatchXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{,}  \mathit{x}  \colon{}  \tau_{{\mathrm{1}}}  \ottsym{,}  \mathit{y}  \colon{}  \tau_{{\mathrm{2}}}  \ottsym{]}  \vdash{}  \ottnt{c}}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottkw{match} \, \mathit{x}  \colon{}  \tau_{{\mathrm{1}}}  \ottsym{,}  \mathit{y}  \colon{}  \tau_{{\mathrm{2}}} \, \mathbin{\textbf{in} } \, \ottnt{c}  \Leftarrow  \tau_{{\mathrm{1}}}  \otimes{}  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{check\_match\_fanout}}{}%
}}


\newcommand{\ottdrulecheckXXdup}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \Leftarrow  \tau}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottkw{dup} \, \ottnt{E}  \Leftarrow  \tau  \otimes{}  \tau}{%
{\ottdrulename{check\_dup}}{}%
}}


\newcommand{\ottdrulecheckXXdel}[1]{\ottdrule[#1]{%
\ottpremise{\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \Leftarrow  \tau}%
}{
\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottkw{del} \, \ottnt{E}  \Leftarrow  \textbf{I}}{%
{\ottdrulename{check\_del}}{}%
}}

\newcommand{\ottdefncheck}[1]{\begin{ottdefnblock}[#1]{$\Sigma  \ottsym{[}  \Gamma  \ottsym{]}  \vdash{}  \ottnt{E}  \Leftarrow  \tau$}{}
\ottusedrule{\ottdrulecheckXXvar{}}
\ottusedrule{\ottdrulecheckXXfunction{}}
\ottusedrule{\ottdrulecheckXXepsilon{}}
\ottusedrule{\ottdrulecheckXXtt{}}
\ottusedrule{\ottdrulecheckXXfanout{}}
\ottusedrule{\ottdrulecheckXXmatchXXfanout{}}
\ottusedrule{\ottdrulecheckXXdup{}}
\ottusedrule{\ottdrulecheckXXdel{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsjudgeXXcontext}{
\ottdefninfer{}\ottdefncheck{}}

% defns pfind
%% defn pmem
\newcommand{\ottdrulepmemXXeq}[1]{\ottdrule[#1]{%
}{
\mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\in}  \rho  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\boxtimes}  \rho  \ottsym{,}  \mathit{x}  \mathbin{:=}  \mathop{ \textbf ! }}{%
{\ottdrulename{pmem\_eq}}{}%
}}


\newcommand{\ottdrulepmemXXne}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \mathrel{\ne}  \mathit{y}}%
\ottpremise{\mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\in}  \rho  \mathrel{\boxtimes}  \rho'}%
}{
\mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\in}  \rho  \ottsym{,}  \mathit{y}  \mathbin{:=}  \ottnt{v'}  \mathrel{\boxtimes}  \rho'  \ottsym{,}  \mathit{y}  \mathbin{:=}  \ottnt{v'}}{%
{\ottdrulename{pmem\_ne}}{}%
}}

\newcommand{\ottdefnpmem}[1]{\begin{ottdefnblock}[#1]{$\mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\in}  \rho  \mathrel{\boxtimes}  \rho'$}{}
\ottusedrule{\ottdrulepmemXXeq{}}
\ottusedrule{\ottdrulepmemXXne{}}
\end{ottdefnblock}}


\newcommand{\ottdefnspfind}{
\ottdefnpmem{}}

% defns sat
%% defn produces
\newcommand{\ottdruleproducesXXunify}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{2}}}  \vdash{}  \ottnt{E'}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{3}}}}%
}{
\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \ottsym{=}  \ottnt{E'}  \mathrel{\boxtimes}  \rho_{{\mathrm{3}}}}{%
{\ottdrulename{produces\_unify}}{}%
}}


\newcommand{\ottdruleproducesXXtrue}[1]{\ottdrule[#1]{%
}{
\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \top  \mathrel{\boxtimes}  \rho}{%
{\ottdrulename{produces\_true}}{}%
}}


\newcommand{\ottdruleproducesXXand}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{2}}}  \vdash{}  \ottnt{c'}  \mathrel{\boxtimes}  \rho_{{\mathrm{3}}}}%
}{
\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottnt{c}  \wedge  \ottnt{c'}  \mathrel{\boxtimes}  \rho_{{\mathrm{3}}}}{%
{\ottdrulename{produces\_and}}{}%
}}


\newcommand{\ottdruleproducesXXorXXinl}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \rho'}%
}{
\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{c}  \vee  \ottnt{c'}  \mathrel{\boxtimes}  \rho'}{%
{\ottdrulename{produces\_or\_inl}}{}%
}}


\newcommand{\ottdruleproducesXXorXXinr}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{c'}  \mathrel{\boxtimes}  \rho'}%
}{
\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{c}  \vee  \ottnt{c'}  \mathrel{\boxtimes}  \rho'}{%
{\ottdrulename{produces\_or\_inr}}{}%
}}

\newcommand{\ottdefnproduces}[1]{\begin{ottdefnblock}[#1]{$\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \rho'$}{}
\ottusedrule{\ottdruleproducesXXunify{}}
\ottusedrule{\ottdruleproducesXXtrue{}}
\ottusedrule{\ottdruleproducesXXand{}}
\ottusedrule{\ottdruleproducesXXorXXinl{}}
\ottusedrule{\ottdruleproducesXXorXXinr{}}
\end{ottdefnblock}}

%% defn accepts
\newcommand{\ottdruleacceptsXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\mathit{x}  \mathbin{:=}  \ottnt{v}  \mathrel{\in}  \rho  \mathrel{\boxtimes}  \rho'}%
}{
\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \mathit{x}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho'}{%
{\ottdrulename{accepts\_var}}{}%
}}


\newcommand{\ottdruleacceptsXXfunction}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho'}%
}{
\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \mathit{f} \, \ottnt{E}  \ottsym{[}  \mathit{f} \, \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho'}{%
{\ottdrulename{accepts\_function}}{}%
}}


\newcommand{\ottdruleacceptsXXtt}[1]{\ottdrule[#1]{%
}{
\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \mathop{ \textbf ! }  \ottsym{[}  \mathop{ \textbf ! }  \ottsym{]}  \mathrel{\boxtimes}  \rho}{%
{\ottdrulename{accepts\_tt}}{}%
}}


\newcommand{\ottdruleacceptsXXfanout}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{2}}}  \vdash{}  \ottnt{E'}  \ottsym{[}  \ottnt{v'}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{3}}}}%
}{
\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottsym{(}  \ottnt{E}  \ottsym{,}  \ottnt{E'}  \ottsym{)}  \ottsym{[}  \ottnt{v}  \ottsym{,}  \ottnt{v'}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{3}}}}{%
{\ottdrulename{accepts\_fanout}}{}%
}}


\newcommand{\ottdruleacceptsXXmatch}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{,}  \mathit{y}  \mathbin{:=}  \ottnt{v_{{\mathrm{1}}}}  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v'_{{\mathrm{0}}}}  \ottsym{,}  \mathit{y}  \mathbin{:=}  \ottnt{v'_{{\mathrm{1}}}}}%
}{
\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottkw{match} \, \mathit{x}  \colon{}  \tau_{{\mathrm{1}}}  \ottsym{,}  \mathit{y}  \colon{}  \tau_{{\mathrm{2}}} \, \mathbin{\textbf{in} } \, \ottnt{c}  \ottsym{[}  \ottnt{v_{{\mathrm{0}}}}  \ottsym{,}  \ottnt{v_{{\mathrm{1}}}}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}{%
{\ottdrulename{accepts\_match}}{}%
}}


\newcommand{\ottdruleacceptsXXdel}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}%
}{
\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottkw{del} \, \ottnt{E}  \ottsym{[}  \mathop{ \textbf ! }  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}{%
{\ottdrulename{accepts\_del}}{}%
}}


\newcommand{\ottdruleacceptsXXdup}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}%
}{
\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottkw{dup} \, \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{,}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}{%
{\ottdrulename{accepts\_dup}}{}%
}}


\newcommand{\ottdruleacceptsXXepsilon}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v}  \vdash{}  \ottnt{c}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}  \ottsym{,}  \mathit{x}  \mathbin{:=}  \ottnt{v'}}%
}{
\ottnt{T}  \ottsym{;}  \rho_{{\mathrm{1}}}  \vdash{}  \ottsym{(}  \varepsilon{} \, \mathit{x}  \colon{}  \tau  \ottsym{.}  \ottnt{c}  \ottsym{)}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho_{{\mathrm{2}}}}{%
{\ottdrulename{accepts\_epsilon}}{}%
}}

\newcommand{\ottdefnaccepts}[1]{\begin{ottdefnblock}[#1]{$\ottnt{T}  \ottsym{;}  \rho  \vdash{}  \ottnt{E}  \ottsym{[}  \ottnt{v}  \ottsym{]}  \mathrel{\boxtimes}  \rho'$}{}
\ottusedrule{\ottdruleacceptsXXvar{}}
\ottusedrule{\ottdruleacceptsXXfunction{}}
\ottusedrule{\ottdruleacceptsXXtt{}}
\ottusedrule{\ottdruleacceptsXXfanout{}}
\ottusedrule{\ottdruleacceptsXXmatch{}}
\ottusedrule{\ottdruleacceptsXXdel{}}
\ottusedrule{\ottdruleacceptsXXdup{}}
\ottusedrule{\ottdruleacceptsXXepsilon{}}
\end{ottdefnblock}}


\newcommand{\ottdefnssat}{
\ottdefnproduces{}\ottdefnaccepts{}}

\newcommand{\ottdefnss}{
\ottfundefnsetaXXexpand
\ottfundefnsstepXXelim
\ottfundefnsinjectXXnf
\ottdefnsfind
\ottdefnsjudgeXXterm
\ottdefnsjudgeXXsubst
\ottdefnsbigV
\ottdefnsbigv
\ottdefnslfind
\ottdefnsscope
\ottdefnsjudgeXXcontext
\ottdefnspfind
\ottdefnssat
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

